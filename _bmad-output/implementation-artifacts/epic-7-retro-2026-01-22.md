# Epic 7 Retrospective: Product Discovery & Branding

**Date:** 2026-01-22
**Epic:** Product Discovery & Branding
**Status:** Complete
**Stories Completed:** 2/2

## Epic Summary

Epic 7 (Product Discovery & Branding) delivered frontend enhancements:
1. Catalogue links for all 8 template names (Story 7-1)
2. Consistent "NDX:Try" branding replacing "Innovation Sandbox" (Story 7-2)

**FRs Delivered:** FR4, FR5, FR6, FR13, FR14

---

## Team Discussion

### SM (Scrum Master)

Welcome team! Epic 7 is complete with all 2 stories delivered. This was a straightforward frontend epic focused on improving product discovery and establishing consistent branding.

**Metrics Overview:**
- Stories: 2 completed (7-1, 7-2)
- Tests: 79 tests for Story 7-1, 769 tests total for src/try
- Code review issues: 3 LOW in 7-1 (fixed), 2 LOW in 7-2 (accepted)

---

### Dev Agent

**What Went Well:**

1. **Clean Catalogue Links (Story 7-1):** The CATALOGUE_SLUGS mapping provides a clean, maintainable approach. Adding new templates requires only one line of code.

2. **GOV.UK Design System Compliance:** Used existing `govuk-link` class which has built-in WCAG 2.1 AA compliance - no custom CSS needed.

3. **Graceful Fallback:** Unknown templates render as plain text, not broken links. Future-proof for new templates.

4. **Simple Branding Update (Story 7-2):** Straightforward string replacements. Clear separation between user-visible text (changed) and internal code comments (retained per PRD decision).

**What Could Be Improved:**

1. **Test Coverage for All Strings:** Could have added explicit tests for each branding string, not just representative samples.

**Technical Achievements:**
- `getCatalogueUrl()` helper is reusable
- `data-action="view-catalogue"` enables future analytics tracking
- Zero "Innovation Sandbox" in user-visible strings (verified by grep)

---

### Architect

**Architecture Observations:**

1. **Simple Pattern:** Both stories followed the same pattern - data mapping + HTML template update. No architectural complexity.

2. **Separation of Concerns:** Catalogue URL mapping is co-located with the table component where it's used. Clean.

3. **Bundle Size:** 184.9kb - minimal increase from catalogue link logic.

**Concerns:**
- None - this epic was pure frontend, no infrastructure changes

---

### SM

**Story Analysis:**

#### Story 7-1: Catalogue Links
- **Complexity:** Small
- **Tasks:** 6 tasks, all completed
- **Key Achievement:** 8 templates linked to catalogue pages
- **Tests Added:** 21 new tests (18 initial + 3 from code review)

#### Story 7-2: Branding Update
- **Complexity:** Small
- **Tasks:** 6 tasks, all completed
- **Text Replacements:** 7 strings updated
- **Files Modified:** 3 source files, 2 test files

---

### TEA (Test Expert)

**Test Coverage Analysis:**

1. **Story 7-1 Tests:**
   - 8 tests for CATALOGUE_SLUGS mapping (one per template)
   - 3 tests for getCatalogueUrl helper (known, unknown, whitespace)
   - 1 test for case-sensitivity
   - 6 tests for HTML output (link structure, classes, fallback)
   - 3 tests for analytics attribute
   - Coverage: All ACs satisfied

2. **Story 7-2 Tests:**
   - Updated 3 test assertions for new branding
   - No new tests needed (string replacements don't need dedicated tests)
   - Coverage: All ACs satisfied

**Test Quality:**
- 769 tests passing in src/try
- No flaky tests
- Fast execution (4-5 seconds)

---

### PM (Product Manager)

**Requirements Delivery:**

| FR   | Status | Notes |
|------|--------|-------|
| FR4  | Done   | Users navigate from template name to catalogue |
| FR5  | Done   | All 8 templates have catalogue links |
| FR6  | Done   | Template names displayed as clickable links |
| FR13 | Done   | "NDX:Try sessions" terminology on all surfaces |
| FR14 | Done   | No "Innovation Sandbox" in user-visible text |

**User Value Delivered:**
- Users can learn about products before starting sessions
- Consistent branding provides clear product identity
- Accessible links meet WCAG 2.1 AA requirements

**Outstanding Items:**
- None - all Epic 7 requirements satisfied

---

## Previous Retro Follow-Through (Epic 6)

| Action Item | Status |
|-------------|--------|
| Continue with Epic 7 (Product Discovery & Branding) | Done |
| One-time AWS Chatbot workspace authorization | Pre-deploy (Ops) |
| Verify Chatbot notifications in staging | Post-deploy (Ops) |

**Continuity Notes:**
- Epic 6 was backend-focused, Epic 7 was frontend-focused
- No dependencies between the epics
- Both completed on same day (2026-01-22)

---

## Lessons Learned

### What to Keep Doing

1. **GOV.UK Design System First:** Using existing classes (`govuk-link`) provides accessibility compliance for free.

2. **Fallback Patterns:** The graceful fallback for unknown templates is a good pattern to repeat.

3. **Data-Action Attributes:** Adding tracking attributes during implementation (not as an afterthought) is efficient.

### What to Improve

1. **Test All Strings:** For branding changes, consider testing each replaced string explicitly, not just representative samples.

### What to Start

1. **Catalogue Slug Verification:** Before adding new templates, verify the catalogue page exists at the expected URL.

---

## Action Items

| Action | Owner | Status |
|--------|-------|--------|
| Deploy Epic 7 changes to production | Ops | Next |
| Monitor catalogue link clicks via analytics | PM | Post-deploy |
| Add new templates to CATALOGUE_SLUGS as needed | Dev | As needed |

---

## Next Epic Preview

**No Next Epic**

Epic 7 completes the NDX:Try Enhancements PRD. All functional requirements (FR1-FR16) are now delivered:
- Epic 5: Session Transparency (FR1-FR3, FR11-FR12, FR16)
- Epic 6: Operations Notifications (FR7-FR10, FR15)
- Epic 7: Product Discovery & Branding (FR4-FR6, FR13-FR14)

**Next Steps:**
- Deploy all changes to production
- Monitor for issues
- Await next PRD or feature request

---

## Metrics Summary

| Metric | Value |
|--------|-------|
| Epic Duration | 1 day |
| Stories Completed | 2 |
| Tests Added | 21 |
| Tests Passing | 769 |
| Code Review Issues | 5 (3 fixed, 2 accepted LOW) |
| Technical Debt | None |
| Build Size | 184.9kb (try.bundle.js) |

---

## Sign-off

- **SM:** Epic 7 complete, retrospective done
- **Dev:** Implementation complete, all tests passing
- **Architect:** No concerns
- **TEA:** Test coverage adequate
- **PM:** All requirements delivered

---

## NDX:Try Enhancements PRD - Complete

All epics from `prd-ndx-try-enhancements.md` are now complete:
- Epic 5 (Session Transparency): Done
- Epic 6 (Operations Notifications): Done
- Epic 7 (Product Discovery & Branding): Done

**Total PRD Implementation:**
- 7 stories completed
- All 16 FRs delivered
- All 8 NFRs addressed
